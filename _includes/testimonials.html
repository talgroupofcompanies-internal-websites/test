<section id="testimonials">
  <div class="container" style="text-align:center;">
    <h2>Our Testimonials</h2>
    <div id="stars" class="stars"></div>
    <div class="testimonial-card card" style="position:relative; max-width:600px; margin:1rem auto; padding:2rem; background:var(--secondary-bg); border-radius:var(--border-radius);">
      <div class="nav-arrows" style="position:absolute; top:50%; width:100%; display:flex; justify-content:space-between; transform:translateY(-50%);">
        <i class="fas fa-chevron-left arrow prev" style="cursor:pointer; border-radius:var(--button-radius); padding:.5rem; background:var(--accent-color); color:#fff"></i>
        <i class="fas fa-chevron-right arrow next" style="cursor:pointer; border-radius:var(--button-radius); padding:.5rem; background:var(--accent-color); color:#fff"></i>
      </div>
      <p id="testimonial-text" style="font-size:1rem; line-height:1.5;"></p>
      <div id="testimonial-author" class="author" style="margin-top:1rem; font-weight:600;"></div>
      <div class="location" style="font-size:.9rem; color:var(--primary-color); margin-top:.25rem;"><i class="fas fa-map-marker-alt"></i> <span id="testimonial-location-text"></span></div>
    </div>
  </div>
</section>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const testimonials = {{ site.data.testimonials | jsonify }}
      let current = 0;
      const textEl = document.getElementById('testimonial-text');
      const authorEl = document.getElementById('testimonial-author');
      const locationEl = document.getElementById('testimonial-location-text');
      const starsEl = document.getElementById('stars');
      function showTestimonial(idx) {
        const t = testimonials[idx];
        textEl.textContent = t.text;
        authorEl.textContent = t.author;
        locationEl.textContent = t.location;
        const filled = '★'.repeat(Math.round(t.rating));
        const empty = '☆'.repeat(5 - Math.round(t.rating));
        starsEl.textContent = `${filled}${empty} ${t.rating.toFixed(1)}/5.0`;
      }
      document.querySelector('.prev').addEventListener('click', () => {
        current = (current - 1 + testimonials.length) % testimonials.length;
        showTestimonial(current);
      });
      document.querySelector('.next').addEventListener('click', () => {
        current = (current + 1) % testimonials.length;
        showTestimonial(current);
      });
      showTestimonial(current);
    });
  </script>
